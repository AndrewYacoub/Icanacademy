<style>
    .course-header {
      margin-top: 20px;
      margin-bottom: 40px;
    }
    .course-actions a {
      margin-right: 15px;
    }
    .course-actions a:last-child {
      margin-right: 0;
    }
  </style>

<div class="container">
    <div class="course-header text-center">
      <h1 class="display-4"><%= @course.title %></h1>
      <p class="lead"><%= @course.description %></p>
    </div>

    <div class="course-actions text-center mb-4">
      <%= link_to 'Edit Course', edit_course_path(@course), class: 'btn btn-warning' %>
      <%= link_to 'Back to Courses', courses_path, class: 'btn btn-secondary' %>
      <%= link_to 'Add New Group', "javascript: add_new_group(#{@course.id})", class: 'btn btn-primary' %>
    </div>

    <h2 class="h4">Groups in this Course</h2>
    <ul class="list-group mb-4">
      <% @course.groups.each do |group| %>
        <li class="list-group-item">
          <%= link_to group.name, course_group_path(@course, group), class: 'text-decoration-none text-dark' %>
        </li>
      <% end %>
    </ul>

    <!-- New Group Modal -->
    <div class="modal fade" id="newGroup" tabindex="-1" role="dialog" aria-labelledby="newGroupLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-body" id="new_group">
            <!-- Content will be loaded here -->
          </div>
        </div>
      </div>
    </div>
  </div>


<script>
  function add_new_group(course_id){
      $.ajax({
          url: "/courses/"+course_id+"/groups/new",
          dataType: 'script'
      })
  }
</script>
